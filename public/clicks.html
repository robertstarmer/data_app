<!DOCTYPE html>
<head>
	<title>Graph of Clicks</title>
</head>

<body>
	<div id="graphDiv1"></div>
	<br />
	<!--[if IE]><script src="excanvas.js"></script><![endif]-->
	<script src="html5-canvas-bar-graph.js"></script>
	<script>(function () {
	
		function createCanvas(divName) {
			
			var div = document.getElementById(divName);
			var canvas = document.createElement('canvas');
			div.appendChild(canvas);
			if (typeof G_vmlCanvasManager != 'undefined') {
				canvas = G_vmlCanvasManager.initElement(canvas);
			}	
			var ctx = canvas.getContext("2d");
			return ctx;
		}
//GAH   WHY DOESN'T THIS WORK!!!!

		var inputVal = [{"counter":10,"created_at":"2012-08-21T07:02:16Z","id":1,"name":"Top","rate":null,"updated_at":"2012-08-21T20:56:14Z"},{"counter":15,"created_at":"2012-08-21T07:02:24Z","id":2,"name":"Middle","rate":null,"updated_at":"2012-08-21T20:56:16Z"},{"counter":6,"created_at":"2012-08-21T07:02:32Z","id":3,"name":"Bottom","rate":null,"updated_at":"2012-08-21T20:40:26Z"}];
    var countVal = [];
		countVal[0] = inputVal[0].counter;
		countVal[1] = inputVal[1].counter;
		countVal[2] = inputVal[2].counter;

		var labelVal = [];
		labelVal[0] = inputVal[0].name;
		labelVal[1] = inputVal[1].name;
		labelVal[2] = inputVal[2].name;

		
		var ctx = createCanvas("graphDiv1");
		
		var graph = new BarGraph(ctx);
		graph.maxValue = 30;
		graph.margin = 2;
		graph.colors = ["#49a0d8", "#d353a0", "#ffc527", "#df4c27"];
		graph.xAxisLabelArr = labelVal;
		graph.update(countVal);
		

	}());</script>
</body>
</html>
